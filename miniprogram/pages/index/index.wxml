<!-- 首页内容 -->
<view class="container">
  <!-- 自定义导航栏 -->
  <view class="custom-navbar">
    <view class="navbar-content">
      <text class="navbar-title">社区</text>
    </view>
  </view>

  <!-- 搜索栏 -->
  <view class="search-header">
    <view class="search-bar">
      <view class="search-input">
        <icon type="search" size="16" />
        <input placeholder="搜索内容" bindinput="onSearchInput" />
      </view>
      <view class="location" bindtap="chooseLocation">
        <icon type="location" size="16" />
      </view>
    </view>
  </view>

  <!-- 信息分类区域 -->
  <view class="category-section">
    <view class="category-header">
      <text class="category-title">信息分类</text>
      <text class="category-more" bindtap="goToCategories">更多</text>
    </view>
    <view class="category-list">
      <view class="category-item" wx:for="{{categories}}" wx:key="id">
        <view class="category-icon {{item.color}}">{{item.icon}}</view>
        <text class="category-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- 推荐商家区域 -->
  <view class="merchant-section">
    <view class="merchant-header">
      <text class="merchant-title">推荐商家</text>
      <text class="merchant-more">更多</text>
    </view>
    <view class="merchant-scroll">
      <view class="merchant-item" wx:for="{{merchants}}" wx:key="id" bindtap="goToMerchant" data-merchant="{{item}}">
        <image class="merchant-logo" src="{{item.logo}}" />
        <view class="merchant-info">
          <text class="merchant-name">{{item.name}}</text>
          <text class="merchant-desc">{{item.desc}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 内容区域 -->
  <view class="content-section">
    <view class="content-header">
      <text class="content-title">热门内容</text>
      <view class="filter-tabs">
        <text class="tab active">全部</text>
        <text class="tab">最新</text>
        <text class="tab">热门</text>
      </view>
    </view>
    
    <!-- 分列布局演示按钮 -->
    <view class="demo-section">
      <button class="demo-btn" bindtap="goToColumns">查看分列布局演示</button>
    </view>
    
    <view class="post-list">
      <view class="post-item" wx:for="{{posts}}" wx:key="id" bindtap="goToPost" data-post="{{item}}">
        <view class="post-header">
          <image class="avatar" src="{{item.author.avatar}}" />
          <view class="post-info">
            <text class="author-name">{{item.author.name}}</text>
            <text class="post-time">{{item.time}}</text>
          </view>
          <text class="post-category">{{item.category}}</text>
        </view>
        <view class="post-content">
          <text class="post-title">{{item.title}}</text>
          <text class="post-desc">{{item.desc}}</text>
        </view>
        <view class="post-footer">
          <view class="post-stats">
            <view class="stat-item">
              <icon type="eye" size="12" />
              <text>{{item.stats.views}}</text>
            </view>
            <view class="stat-item">
              <icon type="like" size="12" />
              <text>{{item.stats.likes}}</text>
            </view>
            <view class="stat-item">
              <icon type="comment" size="12" />
              <text>{{item.stats.comments}}</text>
            </view>
          </view>
          <text class="post-price">{{item.price}}</text>
        </view>
      </view>
    </view>
    
    <view class="load-more">
      <text>加载更多</text>
    </view>
  </view>
</view>

<!-- 悬浮发布按钮 -->
<view class="float-publish" bindtap="goToPublish">
  <icon type="plus" size="24" />
</view> 