<!-- åˆ†ç±»é¡µé¢ -->
<view class="container">
  <!-- å›ºå®šé¡¶éƒ¨åŒºåŸŸ -->
  <view class="fixed-header">
    <!-- æœç´¢æ  -->
    <view class="search-section">
      <view class="search-bar">
        <icon type="search" size="16" color="#999"></icon>
        <input placeholder="æœç´¢åˆ†ç±»æˆ–å¸–å­" bindinput="onSearchInput" />
      </view>
    </view>

    <!-- åˆ†ç±»æ¨ªå‘æ»‘åŠ¨åŒºåŸŸ -->
    <view class="category-scroll-section">
      <scroll-view class="category-scroll" scroll-x="true" show-scrollbar="false">
        <view 
          class="category-item {{currentCategory.id === item.id ? 'active' : ''}}" 
          wx:for="{{categories}}" 
          wx:key="id" 
          bindtap="selectCategory" 
          data-category="{{item}}"
        >
          <view class="category-icon" style="background: {{item.color}}">
            <text class="iconfont {{item.icon}}"></text>
          </view>
          <text class="category-name">{{item.name}}</text>
        </view>
      </scroll-view>
    </view>
  </view>

  <!-- å¸–å­åˆ—è¡¨åŒºåŸŸ -->
  <view class="posts-section">
    <view class="section-header">
      <text class="section-title">{{currentCategory.name || 'å…¨éƒ¨'}}çš„å¸–å­</text>
      <text class="post-count">{{posts.length}}æ¡ä¿¡æ¯</text>
    </view>
    
    <view class="post-list">
      <view 
        class="post-item" 
        wx:for="{{posts}}" 
        wx:key="id" 
        bindtap="goToPost" 
        data-post="{{item}}"
      >
        <view class="post-header">
          <image class="avatar" src="{{item.author.avatar}}" />
          <view class="post-info">
            <text class="author-name">{{item.author.name}}</text>
            <text class="post-time">{{item.time}}</text>
          </view>
          <text class="post-category">{{item.category}}</text>
        </view>
        <view class="post-content">
          <text class="post-title">{{item.title}}</text>
          <text class="post-desc">{{item.desc}}</text>
        </view>
        <view class="post-footer">
          <view class="post-stats">
            <view class="stat-item">
              <icon type="eye" size="12" />
              <text>{{item.stats.views}}</text>
            </view>
            <view class="stat-item">
              <icon type="like" size="12" />
              <text>{{item.stats.likes}}</text>
            </view>
            <view class="stat-item">
              <icon type="comment" size="12" />
              <text>{{item.stats.comments}}</text>
            </view>
          </view>
          <text class="post-price">{{item.price}}</text>
        </view>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{posts.length === 0}}">
      <text class="empty-icon">ğŸ“</text>
      <text class="empty-title">æš‚æ— å¸–å­</text>
      <text class="empty-desc">è¯¥åˆ†ç±»ä¸‹è¿˜æ²¡æœ‰å¸–å­ï¼Œå¿«æ¥å‘å¸ƒç¬¬ä¸€ä¸ªå§ï¼</text>
    </view>
  </view>
</view>

<!-- æ‚¬æµ®å‘å¸ƒæŒ‰é’® -->
<view class="float-publish" bindtap="goToPublish">
  <icon type="plus" size="24" color="#fff"></icon>
</view> 